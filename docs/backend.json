{
  "entities": {
    "Livestock": {
      "title": "Livestock",
      "type": "object",
      "description": "Represents a single livestock animal with its core identification and characteristics.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the livestock animal (e.g., KIT-001)."
        },
        "regId": {
          "type": "string",
          "description": "Registration ID of the livestock animal."
        },
        "name": {
          "type": "string",
          "description": "Name of the livestock animal."
        },
        "breed": {
          "type": "string",
          "description": "Breed of the livestock animal."
        },
        "gender": {
          "type": "string",
          "enum": ["Jantan", "Betina"],
          "description": "Gender of the livestock animal."
        },
        "status": {
          "type": "string",
          "description": "Current status of the livestock animal (e.g., Productive, Dijual)."
        },
        "owner": {
          "type": "string",
          "description": "Name of the owner or farm."
        },
        "address": {
          "type": "string",
          "description": "Address of the farm."
        },
        "birthDate": {
          "type": "string",
          "format": "date-time",
          "description": "Date of birth of the livestock animal."
        },
        "photoUrl": {
            "type": "string",
            "format": "uri",
            "description": "URL of the livestock's photo."
        },
        "healthLog": {
          "type": "array",
          "description": "Array of health log entries.",
          "items": {
            "$ref": "#/entities/HealthLog"
          }
        },
        "reproductionLog": {
          "type": "array",
          "description": "Array of reproduction log entries.",
          "items": {
            "$ref": "#/entities/ReproductionLog"
          }
        },
        "growthRecords": {
          "type": "array",
          "description": "Array of growth measurement records.",
          "items": {
            "$ref": "#/entities/GrowthRecord"
          }
        },
        "pedigree": {
          "$ref": "#/entities/Pedigree"
        }
      },
      "required": [
        "regId",
        "name",
        "breed",
        "gender",
        "status",
        "owner",
        "address",
        "birthDate"
      ]
    },
    "HealthLog": {
      "title": "HealthLog",
      "type": "object",
      "description": "A single health log entry for a livestock animal.",
      "properties": {
        "date": {
          "type": "string",
          "format": "date-time",
          "description": "Date of the health event."
        },
        "type": {
          "type": "string",
          "enum": ["Vaksinasi", "Penyakit", "Pengobatan", "Lainnya"],
          "description": "Type of health event."
        },
        "vaccineOrMedicineName": {
            "type": "string"
        },
        "detail": {
            "type": "string"
        },
        "diagnosis": {
            "type": "string"
        },
        "notes": {
          "type": "string",
          "description": "Additional notes about the event."
        }
      },
      "required": ["date", "type"]
    },
    "ReproductionLog": {
      "title": "ReproductionLog",
      "type": "object",
      "description": "A single reproduction log entry.",
      "properties": {
        "date": {
          "type": "string",
          "format": "date-time",
          "description": "Date of the reproduction event."
        },
        "type": {
          "type": "string",
          "enum": ["Inseminasi Buatan (IB)", "Kawin Alami", "Kebuntingan Dideteksi", "Melahirkan", "Kelahiran", "Abortus", "Lainnya"],
          "description": "Type of reproduction event."
        },
        "detail": {
          "type": "string",
          "description": "Details of the event (e.g., Semen ID, Offspring name)."
        },
        "notes": {
          "type": "string",
          "description": "Additional notes."
        }
      },
      "required": ["date", "type", "detail"]
    },
    "GrowthRecord": {
      "title": "GrowthRecord",
      "type": "object",
      "description": "A single growth record entry.",
      "properties": {
        "date": {
          "type": "string",
          "format": "date-time",
          "description": "Date of the weight measurement."
        },
        "weight": {
          "type": "number",
          "description": "Weight of the animal in kilograms."
        },
        "adg": {
            "type": "string",
            "description": "Average Daily Gain at the time of record."
        }
      },
      "required": ["date", "weight"]
    },
    "Pedigree": {
      "title": "Pedigree",
      "type": "object",
      "description": "Pedigree information for a livestock animal.",
      "properties": {
        "dam": {
          "$ref": "#/entities/Dam"
        },
        "sire": {
          "$ref": "#/entities/Sire"
        }
      },
      "required": ["dam", "sire"]
    },
    "Dam": {
        "title": "Dam",
        "type": "object",
        "properties": {
            "name": {"type": "string"},
            "regId": {"type": "string"},
            "breed": {"type": "string"},
            "offspring": {"type": "number"}
        }
    },
    "Sire": {
        "title": "Sire",
        "type": "object",
        "properties": {
            "name": {"type": "string"},
            "semenId": {"type": "string"},
            "breed": {"type": "string"},
            "characteristics": {"type": "string"}
        }
    }
  },
  "auth": {
    "providers": []
  },
  "firestore": {
    "structure": [
      {
        "path": "livestock/{livestockId}",
        "definition": {
          "entityName": "Livestock",
          "schema": {
            "$ref": "#/entities/Livestock"
          },
          "description": "Stores all livestock data in a single public collection.",
          "params": [
            {
              "name": "livestockId",
              "description": "The unique identifier for the livestock animal."
            }
          ]
        }
      }
    ],
    "reasoning": "This Firestore structure is designed for a fully public, single-database application. All data is stored in a top-level 'livestock' collection. There is no user-specific data separation, allowing any user to read and write to the same dataset. Security rules are set to public (`allow read, write: if true;`) for this collection, reflecting the collaborative nature of the app. This model is simple and ideal for public-facing collaborative applications where data ownership is not a concern."
  }
}